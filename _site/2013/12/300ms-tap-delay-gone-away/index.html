<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta property="twitter:account_id" content="1593210261" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="description" content="A resource for developers looking to put HTML5 to use today, including information on specific features and when to use them in your apps.">
<meta name="keywords" content="html5,html 5,html5 demos,html5 examples,javascript,css3,notifications,geolocation,web workers,apppcache,file api,filereader,indexeddb,offline,audio,video,drag and drop,chrome,sse,mobile">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="google-site-verification" content="E1HOIDkksrWY5npenL8FeQhKn4Ujctd75iO2lfufSyA" />
<title>300ms tap delay, gone away</title>

<!-- Add to homescreen for Chrome on Android -->
<meta name="mobile-web-app-capable" content="yes">
<link rel="icon" sizes="192x192" href="  /assets/HTML5_Badge_192-f9389f6cad587f357d82be791970c8ad.png">
<meta name="theme-color" content="#3372DF">

<!-- Add to homescreen for Safari on iOS -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="apple-mobile-web-app-title" content="HTML5 Rocks">
<link rel="apple-touch-icon-precomposed" href="/assets/HTML5_Badge_192-f9389f6cad587f357d82be791970c8ad.png
">

<!-- Tile icon for Win8 (144x144 + tile color) -->
<meta name="msapplication-TileImage" content="/assets/HTML5_Badge_144-ddcf1cea1a1204b1733041733d66f76a.png
">
<meta name="msapplication-TileColor" content="#3372DF">

<!-- TODO: consider rel=canonical -->
<link rel="alternate" type="application/rss+xml" title="HTML5 Rocks RSS" href="http://feeds.feedburner.com/html5rocks">
<link rel="publisher" href="https://plus.google.com/+GoogleChromeDevelopers">

  
    
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@ChromiumDev">
<meta name="twitter:creator" content="@jaffathecake">

<meta property="og:type" content="article">
<meta property="og:title" content="300ms tap delay, gone away - HTML5 Rocks">
<meta property="og:url" content="/2013/12/300ms-tap-delay-gone-away">
<meta property="og:description" content="Every click interaction in mobile browsers is hampered with a 300ms delay, but that's gone in Chrome 32 for mobile-optimised sites!">
<meta property="og:image" content="http://www.html5rocks.com/static/images/profiles/jakearchibald.png">
<meta property="og:site_name" content="HTML5 Rocks - A resource for open web HTML5 developers">

<link rel="author" href="https://www.google.com/profiles/116237864387312784020">
  

<link href="//fonts.googleapis.com/css?family=Open+Sans:600,800|Source+Code+Pro" rel="stylesheet">
<link rel="stylesheet" href="/assets/main-8dae1b06ec239bb8b24c3d98cd1ad04b.css">

<!--[if lt IE 9]>
<script src="http://html5shim.googlecode.com/svn/trunk/html5-els.js"></script>
<![endif]-->

  </head>
  <body>
    <header class="main" id="siteheader">
  <a href="#sitenav" id="navtoggle"></a>
  <nav id="sitenav" class="container">
    <ul>
      <li id="tutorials_menu">
        <a href="http://www.html5rocks.com" class="tutorials">Home</a>
      </li>
      <li id="tutorials_menu">
        <a href="http://www.html5rocks.com/en/tutorials/?page=1" class="tutorials">Tutorials</a>
      </li>
      <li id="updates_menu">
        <a href="http://www.html5rocks.com/en/updates" class="updates">Updates</a>
      </li>
      <li id="contrib_menu">
        <a href="https://github.com/html5rocks/www.html5rocks.com/blob/master/CONTRIBUTING.md" target="_blank">Contribute</a>
      </li>
      <li id="slides_menu">
        <a href="http://www.html5rocks.com/en/slides" class="slides">Slides</a>
      </li>
      <li id="resources_menu">
        <a href="http://www.html5rocks.com/en/resources" class="resources">Resources</a>
      </li>
    </ul>
  </nav>
</header>

    <div class="body-content">
      <section class="banner">
        <section class="container">
          <a href="/" class="watermark"></a>
          <h1>300ms tap delay, gone away</h1>
          
        </section>
      </section>
      <article class="content-wrapper article">
<div class="container">
  <section class="byline clearfix">
    <section class="author-images">
      
        
<!-- TODO: change image address.-->

<img src="http://www.html5rocks.com/static/images/profiles/jakearchibald.png"
     alt="Jake Archibald"
     title="Jake Archibald"
     width="60" height="60"
     class="avatar">



      
    </section>
    <section class="meta">
      <div class="authors">
          
    
    <!-- TODO: change link. -->
    <strong>By</strong> <a href="http://www.html5rocks.com/profiles/#jakearchibald">
      Jake Archibald
    </a> 
  

      </div>
      <div class="published">
        <time pubdate=""><strong>Published:</strong> December 13, 2013</time>
      </div>
      <div class="updated">
        <time><strong>Updated:</strong> December 13, 2013</time>
      </div>
      <div class="comments">
        <span><strong>Comments:</strong> <a href="#disqus_thread" class="load-comments" data-disqus-identifier="http://updates.html5rocks.com/2013/12/300ms-tap-delay-gone-away">0</a></span>
      </div>
      <div id="notcompatible" class="hidden">
        Your browser may not support the functionality in this article.
      </div>
    </section>
  </section>
  <section class="content">
    <style>
  .tag {
    margin: 0;
  }
</style>

<p>You'll find large articles throughout this site dedicated to shaving 10ms here and 90ms there in order to deliver a fast and fluid user experience. Unfortunately every touch-based mobile browser, across platforms, has an artificial ~300ms delay between you tapping a thing on the screen and the browser considering it a "click". When people think of the web as being sluggish compared to native apps on mobile, this is this one of the main contributors.</p>

<p>However, as of <a href="https://play.google.com/store/apps/details?id=com.chrome.beta">Chrome 32 for Android</a>, which is currently in beta, this <strong>delay is gone</strong> for <strong>mobile-optimised</strong> sites, <strong>without removing pinch-zooming</strong>!</p>

<div class="video-container">&lt;iframe src="//www.youtube.com/embed/AjUpiwvIa5A?rel=0" " frameborder="0" allowfullscreen&gt;</div>

<p>This optimisation applies to any site that uses:</p>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;viewport&quot;</span> <span class="na">content=</span><span class="s">&quot;width=device-width&quot;</span><span class="nt">&gt;</span></code></pre></div>

<p>(or any equivalent that makes the viewport &lt;= device-width)</p>

<h2>Why do clicks have a 300ms delay?</h2>

<p>If you go to a site that isn't mobile optimised, it starts zoomed out so you can see the full width of the page. To read the content, you either pinch zoom, or double-tap some content to zoom it to full-width. This double-tap is the performance killer, because with every tap we have to wait to see if it might become a double-tap, and that wait is 300ms. Here's how it plays out:</p>

<ol>
<li><code>touchstart</code></li>
<li><code>touchend</code></li>
<li>Wait 300ms in case of another tap</li>
<li><code>click</code></li>
</ol>

<p>This pause applies to click events in JavaScript, but also other click-based interactions such as links and form controls.</p>

<p>You can't simply shortcut this with <code>touchend</code> listeners either. Compare these demos on a mobile browser other than Chrome 32:</p>

<ul>
<li><a href="http://jsbin.com/aSeWEwA/1/quiet">Using click events</a></li>
<li><a href="http://jsbin.com/aSeWEwA/2/quiet">Using touchend events</a></li>
</ul>

<p>Tapping on the rows changes their colour. The <code>touchend</code> example is much faster but also triggers after scrolling depending on the browser. This is because <a href="http://www.w3.org/TR/touch-events/">the spec</a> doesn't define what can cancel the flow of touch events. Current versions of iOS Safari, Firefox, IE, and the old Android Browser trigger <code>touchend</code> after scrolling, Chrome doesn't.</p>

<p><a href="https://dvcs.w3.org/hg/pointerevents/raw-file/tip/pointerEvents.html">Microsoft's PointerEvents spec</a> does the right thing and specifies that <code>pointerup</code> doesn't trigger if a lower-level action such as scrolling occurs. However, currently <a href="http://caniuse.com/#feat=pointer">only IE supports pointer events</a>, although <a href="https://code.google.com/p/chromium/issues/detail?id=196799">Chrome has a ticket for it</a>. But even then, the 300ms delay would only be dropped on sites that used this listener in a way that applied to all links, form elements, and JavaScript interactions on the page.</p>

<h2>How Chrome removed the 300ms delay</h2>

<p>Chrome and Firefox for Android have, for some time now, removed the 300ms tap delay for pages with this:</p>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;viewport&quot;</span> <span class="na">content=</span><span class="s">&quot;width=device-width, user-scalable=no&quot;</span><span class="nt">&gt;</span></code></pre></div>

<p>Pages with this cannot be zoomed, therefore "double-tap to zoom" isn't an interaction, therefore there's no need to wait for double-taps. However, we also lose pinch-zooming.</p>

<p>Pinch-zooming is great for taking a closer look at a photo, some small print, or dealing with a set buttons/links that are placed too closely together. It's an out-of-the-box accessibility feature.</p>

<p>If a site has…</p>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;viewport&quot;</span> <span class="na">content=</span><span class="s">&quot;width=device-width&quot;</span><span class="nt">&gt;</span></code></pre></div>

<p>…double-tap zooms in a little bit. Not a particularly useful amount. A further double-tap zooms back out. We feel this feature, on mobile-optimised pages, isn't useful. So we removed it! This means we can treat taps as clicks instantly, but we <strong>retain pinch-zooming</strong>.</p>

<h2>Is this change an accessibility concern?</h2>

<p>We don't believe so, but the reason we release beta versions of Chrome is so users can try new features and give us feedback.</p>

<p>We tried to imagine a user this may affect, someone who:</p>

<ul>
<li>has a motor impairment that prevents multi-touch interaction such as pinch-zoom, but not two taps in the same area within 300ms</li>
<li>has a minor visual impairment that is overcome by the small amount of zooming provided by double-tap on mobile optimised sites</li>
</ul>

<p>But they're catered for by the text sizing tools in Chrome's settings, or the screen magnifier in Android, which covers all sites and native apps, and can be activated by triple-tap.</p>

<style>
  .mob-a11y-screenshots {
    text-align: center;
  }
  .mob-a11y-screenshots img {
    margin: 5px;
    max-height: 370px;
  }
</style>

<p class="mob-a11y-screenshots">
  <a href="http://www.html5rocks.com/static/images/updates/300ms/chrome-a11y.png"><img src="http://www.html5rocks.com/static/images/updates/300ms/chrome-a11y.png" alt="Chrome accessibility settings" /></a><a href="http://www.html5rocks.com/static/images/updates/300ms/android-magnification.png"><img src="http://www.html5rocks.com/static/images/updates/300ms/android-magnification.png" alt="Android screen magnification" /></a>
</p>

<p>However, we may have missed something, so if you are affected by this change, or know someone who is, let us know in the comments or <a href="https://code.google.com/p/chromium/issues/list">file a ticket</a>.</p>

<h2>Will other browsers do the same?</h2>

<p>I don't know, but I hope so.</p>

<p><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=941995">Firefox has a ticket for it</a> and currently avoids the 300ms delay for unzoomable pages.</p>

<p>On iOS Safari, double-tap is a scroll gesture on unzoomable pages. For that reason they <a href="https://bugs.webkit.org/show_bug.cgi?id=122212">can't remove the 300ms delay</a>. If they can't remove the delay on unzoomable pages, they're unlikely to remove it on zoomable pages.</p>

<p>Windows phones also retain the 300ms delay on unzoomable pages, but they don't have an alternative gesture like iOS so it's possible for them to remove this delay as Chrome has. You can remove the delay using:</p>

<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="nt">html</span> <span class="p">{</span>
    <span class="o">-</span><span class="n">ms</span><span class="o">-</span><span class="n">touch</span><span class="o">-</span><span class="n">action</span><span class="o">:</span> <span class="n">manipulation</span><span class="p">;</span>
    <span class="n">touch</span><span class="o">-</span><span class="n">action</span><span class="o">:</span> <span class="n">manipulation</span><span class="p">;</span>
<span class="p">}</span></code></pre></div>

<p>Unfortunately this is a non-standard Microsoft extension to the pointer events spec. Also, programmatic fixes like this are opt-in by the developer, whereas the Chrome fix speeds up any existing mobile-optimised site.</p>

<h2>In the mean time…</h2>

<p><a href="https://github.com/ftlabs/fastclick">FastClick by FT Labs</a> uses touch events to trigger clicks faster &amp; removes the double-tap gesture. It looks at the amount your finger moved between <code>touchstart</code> and <code>touchend</code> to differentiate scrolls and taps.</p>

<p>Adding a <code>touchstart</code> listener to everything has a performance impact, because lower-level interactions such as scrolling are delayed by calling the listener to see if it <code>event.preventDefault()</code>s. Thankfully, FastClick will avoid setting listeners in cases where the browser already removes the 300ms delay, so you get the best of both!</p>

  </section>
  <section>
    <!-- TODO: Update link. -->
    
      <a href="/tag/mobile" class="tag">mobile</a>
    
      <a href="/tag/performance" class="tag">performance</a>
    
      <a href="/tag/events" class="tag">events</a>
    
      <a href="/tag/touch" class="tag">touch</a>
    
  </section>
  <div class="pager">
    
    <a href="/2013/11/The-Yeoman-Monthly-Digest-1">&laquo; The Yeoman Monthly Digest #1</a>
     | 
    <a href="/2013/12/DevTools-Digest-December-2013">DevTools Digest December 2013 &raquo;</a>
    
  </div>
</div>
</article>
<section class="disqus pattern-bg-lighter">
  <div id="disqus" class="container">
    <h2>Comments</h2>
    <div id="disqus_thread">
      <a href="#disqus_thread" class="load-comments"
          data-disqus-identifier="http://updates.html5rocks.com/2013/12/300ms-tap-delay-gone-away">0</a>
    </div>
  </div>

  <noscript>
    <p class="center">
      <strong>
        <a href="http://disqus.com/?ref_noscript">Please enable JavaScript to view the comments powered by Disqus.</a>
      </strong>
    </p>
  </noscript>

  <script>

    var disqus_shortname = 'html5rocks';
    var disqus_identifier = 'http://updates.html5rocks.com/2013/12/300ms-tap-delay-gone-away';
    var disqus_url = 'http://updates.html5rocks.com/2013/12/300ms-tap-delay-gone-away';
    var disqus_developer = 0;

    var disqus_config = function () {
      var funky_language_code_mapping = {
        'de': 'de_inf',
        'es': 'es_ES',
        'pt': 'pt_EU',
        'sr': 'sr_CYRL',
        'sv': 'sv_SE',
        'zh': 'zh_HANT'
      };
      this.language = funky_language_code_mapping['en'] ||
                      'en';

      this.callbacks.onReady = [ function () {
                                    try {
                                      ga('send', 'event', 'View comments');
                                    } catch(err){}
                                 } ];
      this.callbacks.onNewComment = [ function (comment) {
                                        try {
                                          ga('send', 'event', 'Commented');
                                        } catch(err){}
                                      } ];
    };

    window.addEventListener('load', function(e) {

      var c = document.createElement('script');
      c.type = 'text/javascript';
      c.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
      c.async = true;

      var s = document.getElementsByTagName('script')[0], sp = s.parentNode;
      sp.insertBefore(c, s);

      if (window.location.hash === '#disqus_thread')
        loadComments();

    }, false);

    var disqus_loaded = false;
    function loadComments() {

      if (disqus_loaded)
        return;

      disqus_loaded = true;

      ga('send', 'event', 'Interactions', 'Comments', 'Comments Loaded');

      var s = document.getElementsByTagName('script')[0], sp = s.parentNode;
      var dsq = document.createElement('script');
      dsq.type = 'text/javascript';
      dsq.async = true;

      var disqusContainer = document.getElementById('disqus');
      disqusContainer.classList.add('active');

      dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
      sp.insertBefore(dsq, s);
    }
    var loadCommentsButtons = document.querySelectorAll('.load-comments');
    for(var l = 0; l < loadCommentsButtons.length; l++)
      loadCommentsButtons[l].addEventListener('click', loadComments);

  </script>
</section>



    </div>
    <footer>
  <div class="container">
    
    <h1>Next steps</h1>
    <aside class="panel share">
      <h2>Share</h2>
        <a href="https://twitter.com/share?url=http://www.html5rocks.com/tutorials/shapes/getting-started/&amp;text=Getting Started with CSS Shapes&amp;lang=en&amp;via=ChromiumDev&amp;related=ChromiumDev" class="twitter" target="_blank">Twitter</a>
        <a href="https://www.facebook.com/sharer/sharer.php?u=http://www.html5rocks.com/tutorials/shapes/getting-started/" class="facebook" target="_blank">Facebook</a>
        <a href="https://plus.google.com/share?url=http://www.html5rocks.com/tutorials/shapes/getting-started/" class="gplus" onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;">Google+</a>
    </aside>
    <aside class="panel rss">
      <h2>Subscribe</h2>
      <p>Enjoyed this article? Grab the <a href="/rss">RSS feed</a> and stay up-to-date.</p>
    </aside>
    
    <p class="licensing">
      Except as otherwise <a href="http://code.google.com/policies.html#restrictions">noted</a>, the content of this page is licensed under the <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0 License</a>, and code samples are licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 License</a>.
    </p>
  </div>
</footer>


    <script>
      (function() {

        var siteHeader = document.getElementById('siteheader');
        var navToggle = document.getElementById('navtoggle');
        var siteNav = document.getElementById('sitenav');

        navToggle.addEventListener('click', function(e) {
          siteNav.classList.toggle('active');
          e.preventDefault();
        });

      })();
    </script>

    <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create','UA-15028909-7','auto');
      ga('create','UA-49880327-4','auto',{'name':'html5rocks'});
      ga('send','pageview');
      ga('html5rocks.send','pageview');
    </script>
  </body>
</html>
